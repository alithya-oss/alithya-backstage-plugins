## API Report File for "@alithya-oss/plugin-rag-ai-backend-retrieval-augmenter"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts
import { AugmentationIndexer } from '@alithya-oss/plugin-rag-ai-node';
import { AugmentationPostProcessor } from '@alithya-oss/plugin-rag-ai-node';
import { AugmentationRetriever } from '@alithya-oss/plugin-rag-ai-node';
import { AuthService } from '@backstage/backend-plugin-api';
import { CatalogApi } from '@backstage/catalog-client';
import { DiscoveryService } from '@backstage/backend-plugin-api';
import { EmbeddingDoc } from '@alithya-oss/plugin-rag-ai-node';
import { Embeddings } from '@langchain/core/embeddings';
import { EmbeddingsSource } from '@alithya-oss/plugin-rag-ai-node';
import { Entity } from '@backstage/catalog-model';
import { EntityFilterShape } from '@alithya-oss/plugin-rag-ai-node';
import { LoggerService } from '@backstage/backend-plugin-api';
import { RecursiveCharacterTextSplitter } from 'langchain/text_splitter';
import { RetrievalPipeline } from '@alithya-oss/plugin-rag-ai-node';
import { RetrievalRouter } from '@alithya-oss/plugin-rag-ai-node';
import { RoadieVectorStore } from '@alithya-oss/plugin-rag-ai-node';

// Warning: (ae-missing-release-tag) "AugmentationOptions" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type AugmentationOptions = {
  chunkSize?: number;
  chunkOverlap?: number;
  concurrencyLimit?: number;
};

// Warning: (ae-missing-release-tag) "CombiningPostProcessor" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class CombiningPostProcessor implements AugmentationPostProcessor {
  // (undocumented)
  process(
    _query: string,
    _source: EmbeddingsSource,
    embeddingDocs: Map<string, EmbeddingDoc[]>,
  ): Promise<EmbeddingDoc[]>;
}

// Warning: (ae-missing-release-tag) "createDefaultRetrievalPipeline" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export const createDefaultRetrievalPipeline: ({
  vectorStore,
  discovery,
  logger,
  auth,
}: DefaultRetrievalPipelineOptions) => DefaultRetrievalPipeline;

// Warning: (ae-missing-release-tag) "DefaultRetrievalPipeline" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class DefaultRetrievalPipeline implements RetrievalPipeline {
  constructor({
    routers,
    retrievers,
    postProcessors,
  }: {
    routers?: RetrievalRouter[];
    retrievers?: AugmentationRetriever[];
    postProcessors?: AugmentationPostProcessor[];
  });
  // (undocumented)
  retrieveAugmentationContext(
    query: string,
    source: EmbeddingsSource,
    filter?: EntityFilterShape,
  ): Promise<EmbeddingDoc[]>;
}

// Warning: (ae-missing-release-tag) "DefaultRetrievalPipelineOptions" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export type DefaultRetrievalPipelineOptions = {
  vectorStore: RoadieVectorStore;
  logger: LoggerService;
  discovery: DiscoveryService;
  auth: AuthService;
};

// Warning: (ae-missing-release-tag) "DefaultVectorAugmentationIndexer" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class DefaultVectorAugmentationIndexer implements AugmentationIndexer {
  protected constructor({
    vectorStore,
    catalogApi,
    logger,
    auth,
    embeddings,
    discovery,
    augmentationOptions,
  }: {
    vectorStore: RoadieVectorStore;
    catalogApi: CatalogApi;
    logger: LoggerService;
    auth: AuthService;
    embeddings: Embeddings;
    discovery: DiscoveryService;
    augmentationOptions?: AugmentationOptions;
  });
  // (undocumented)
  protected constructCatalogEmbeddingDocuments(
    entities: Entity[],
    source: EmbeddingsSource,
  ): Promise<EmbeddingDoc[]>;
  // Warning: (ae-forgotten-export) The symbol "TechDocsDocument" needs to be exported by the entry point index.d.ts
  //
  // (undocumented)
  protected constructTechDocsEmbeddingDocuments(
    documents: TechDocsDocument[],
    source: EmbeddingsSource,
  ): Promise<EmbeddingDoc[]>;
  // (undocumented)
  createEmbeddings(
    source: EmbeddingsSource,
    filter: EntityFilterShape,
  ): Promise<number>;
  // (undocumented)
  deleteEmbeddings(
    source: EmbeddingsSource,
    filter: EntityFilterShape,
  ): Promise<void>;
  // (undocumented)
  protected getDocuments(
    source: EmbeddingsSource,
    filter?: EntityFilterShape,
  ): Promise<EmbeddingDoc[]>;
  // Warning: (tsdoc-escape-right-brace) The "}" character should be escaped using a backslash to avoid confusion with a TSDoc inline tag
  // Warning: (tsdoc-malformed-inline-tag) Expecting a TSDoc tag starting with "{@"
  protected getSplitter(): RecursiveCharacterTextSplitter;
  // (undocumented)
  get vectorStore(): RoadieVectorStore;
}

// Warning: (ae-missing-release-tag) "RoadieEmbeddingsConfig" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export interface RoadieEmbeddingsConfig {
  // (undocumented)
  augmentationOptions?: AugmentationOptions;
  // (undocumented)
  auth: AuthService;
  // (undocumented)
  catalogApi: CatalogApi;
  // (undocumented)
  discovery: DiscoveryService;
  // (undocumented)
  logger: LoggerService;
  // (undocumented)
  vectorStore: RoadieVectorStore;
}

// Warning: (ae-missing-release-tag) "SearchRetriever" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class SearchRetriever implements AugmentationRetriever {
  constructor({
    discovery,
    logger,
    searchClient,
    auth,
  }: {
    discovery: DiscoveryService;
    logger: LoggerService;
    searchClient?: SearchClient;
    auth: AuthService;
  });
  // (undocumented)
  get id(): string;
  // (undocumented)
  retrieve(query: string, source: EmbeddingsSource): Promise<EmbeddingDoc[]>;
}

// Warning: (ae-missing-release-tag) "SourceBasedRetrievalRouter" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class SourceBasedRetrievalRouter implements RetrievalRouter {
  constructor({
    logger,
    retrievers,
  }: {
    logger: LoggerService;
    retrievers: Map<EmbeddingsSource, AugmentationRetriever[]>;
  });
  // (undocumented)
  determineRetriever(
    _query: string,
    source: EmbeddingsSource,
  ): Promise<AugmentationRetriever[]>;
}

// Warning: (ae-missing-release-tag) "VectorEmbeddingsRetriever" is part of the package's API, but it is missing a release tag (@alpha, @beta, @public, or @internal)
//
// @public (undocumented)
export class VectorEmbeddingsRetriever implements AugmentationRetriever {
  constructor({
    vectorStore,
    logger,
  }: {
    vectorStore: RoadieVectorStore;
    logger: LoggerService;
  });
  // (undocumented)
  get id(): string;
  // (undocumented)
  retrieve(
    query: string,
    source: EmbeddingsSource,
    _filter?: EntityFilterShape,
  ): Promise<EmbeddingDoc[]>;
}

// Warnings were encountered during analysis:
//
// src/retrieval/retrievers/SearchRetriever.d.ts:10:9 - (ae-forgotten-export) The symbol "SearchClient" needs to be exported by the entry point index.d.ts

// (No @packageDocumentation comment for this package)
```
